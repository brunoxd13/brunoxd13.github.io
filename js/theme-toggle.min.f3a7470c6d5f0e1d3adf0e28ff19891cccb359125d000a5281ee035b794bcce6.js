(function(){const e=document.getElementById("theme-toggle");if(!e)return;function s(t){const n=t==="dark"?"Switch to light theme":"Switch to dark theme";e.setAttribute("aria-label",n)}function t(){const e=document.documentElement;return e.classList.contains("dark")?"dark":e.classList.contains("light")?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function n(e){const t=document.documentElement;t.classList.remove("dark","light"),t.classList.add(e);try{localStorage.setItem("theme",e)}catch(e){console.error("Failed to save theme preference:",e)}s(e)}n(t()),e.addEventListener("click",function(){const e=t(),s=e==="dark"?"light":"dark";n(s)}),window.addEventListener("pageshow",function(){const e=t();n(e)})})()